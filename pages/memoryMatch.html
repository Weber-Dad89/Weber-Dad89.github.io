<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Memory Match</title>
        <style>
            .tile {
                font-size: xx-large;
                width: 50px;
                height: 50px;
                line-height: 50px;
                background-color: gray;
                text-align: center;
            }

            td {
                width: 55px;
                height: 55px;
            }

        </style>
    </head>
    <body>

        <h1>Welcome to Memory Match</h1>
        <p><button onclick='gameReset()'>Reset Game</button></p>
        <div id='gameBoard'></div>

        <script>
            let map = [];
            let tile1 = null, tile2 = null;

            let loadMap= (rows=4, cols=4) => { // use arrow notation for function
                const grid= []; // one dimensional array to store number pairs
                let maxValue= (rows * cols / 2);
                console.log(maxValue); // Output: (4 * 4) / 2 = 8
                for (let maxValue = 0; maxValue < 8; maxValue++) {
                    let num1= maxValue * 1 + 1;
                    let num2= maxValue * 1 + 1;
                    grid.push(num1, num2); // adds the numbered pair to the  grid array
                }
                return grid
                console.log(grid); // Output: [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8]
                console.log('Grid output: ' + '[' + grid + ']' );
            }

            // FISHER-YATES shuffle algorithm, to shuffle the array
            const shuffle = (grid) => {
                for (let i = grid.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                let temp = grid[i];
                grid[i] = grid[j];
                grid[j] = temp;
                }
                return grid; // TODO: Assign to a variable
            }

            let makeBoard= (rows=4, cols=4) => {
               let output = '<table>';
                for (let row = 0; row < rows; row ++) {
                    output += '<tr>';
                        for (let col = 0; col < cols; col++) {
                            output += '<td<button' +
                                ' class="tile" ' +
                                ' id=" ' + row + '_' + col + ' " ' +
                                ' onclick="process (' + row + ' , ' + col + ') ">' +
                                '</button></td>';
                        }
                        output += '</tr>';
                }
                document.getElementById('gameBoard').innerHTML = output + '</table>';
            }

            let gameReset= () => {
                let grid= loadMap(4, 4);
                makeBoard(4, 4);
                console.log(grid);
                map = shuffle(grid); // function call to randomize the 1D array
                console.log(map); // Output: Randomized array of 16 single digit elements (1-8)
            }
                
        </script>
    </body>
</html>